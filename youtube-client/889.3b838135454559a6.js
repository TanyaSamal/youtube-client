"use strict";(self.webpackChunkyoutube_client=self.webpackChunkyoutube_client||[]).push([[889],{2889:(R,u,o)=>{o.r(u),o.d(u,{YoutubeModule:()=>W});var c=o(6019),y=o(7281),d=o(1750),e=o(3668),v=o(7908),l=(()=>{return(i=l||(l={})).DATE="date",i.VIEWS="views",l;var i})(),C=o(3203),S=o(634),w=o(138);let h=(()=>{class i{constructor(t){this.stateService=t,this.filterByField=new e.vpe,this.filterByWord=new e.vpe,this.viewState={show:!1,up:!1},this.dateState={show:!1,up:!1},this.inputWord="",this.isOpen=!1,this.sub=new v.w0}ngOnInit(){this.sub=this.stateService.data$.subscribe(t=>{this.isOpen=t})}sortByField(t){t===l.DATE?(this.dateState.show=!0,this.dateState.up=!this.dateState.up,this.viewState.show=!1,this.filterByField.emit({direction:this.dateState.up,field:t})):(this.viewState.show=!0,this.viewState.up=!this.viewState.up,this.dateState.show=!1,this.filterByField.emit({direction:this.viewState.up,field:t}))}sortByWord(t){this.dateState.show=!1,this.viewState.show=!1,this.inputWord=t.target.value,this.filterByWord.emit(this.inputWord)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-filter"]],outputs:{filterByField:"filterByField",filterByWord:"filterByWord"},decls:15,vars:10,consts:[[1,"filter"],[1,"container","filter-container"],[1,"sort",3,"click"],[1,"arrow"],[1,"word-filter"],["matInput","","type","text",3,"keyup"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div"),e._uU(3,"Sorting by:"),e.qZA(),e.TgZ(4,"div",2),e.NdJ("click",function(){return n.sortByField("date")}),e._uU(5,"date "),e._UZ(6,"span",3),e.qZA(),e.TgZ(7,"div",2),e.NdJ("click",function(){return n.sortByField("views")}),e._uU(8,"count of views "),e._UZ(9,"span",3),e.qZA(),e.TgZ(10,"div"),e.TgZ(11,"label"),e._uU(12,"by word or sentance"),e.qZA(),e.TgZ(13,"mat-form-field",4),e.TgZ(14,"input",5),e.NdJ("keyup",function(a){return n.sortByWord(a)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Udp("display",n.isOpen?"block":"none"),e.xp6(6),e.Udp("opacity",n.dateState.show?"1":"0")("transform",n.dateState.up?"rotate(0)":"rotate(180deg)"),e.xp6(3),e.Udp("opacity",n.viewState.show?"1":"0")("transform",n.viewState.up?"rotate(0)":"rotate(180deg)"))},directives:[S.KE,w.Nt],styles:[".filter[_ngcontent-%COMP%]{background:#e5e5e5;font-size:1em;color:#929292}.filter-container[_ngcontent-%COMP%]{display:flex;column-gap:20px;justify-content:center;align-items:baseline;height:65px}.sort[_ngcontent-%COMP%]{position:relative;padding-right:5px;text-decoration-line:underline;color:#2f80ed;cursor:pointer}label[_ngcontent-%COMP%]{margin-right:10px;color:#2f80ed}input[_ngcontent-%COMP%]{border:none;padding:5px 10px}mat-form-field[_ngcontent-%COMP%]{width:150px}.visible[_ngcontent-%COMP%]{display:flex}.arrow[_ngcontent-%COMP%]{opacity:0;position:absolute;top:4px;background-image:url(arrow.7af78f023607dc75.svg);background-size:15px 15px;background-repeat:no-repeat;filter:invert(43%) sepia(85%) saturate(2314%) hue-rotate(199deg) brightness(94%) contrast(98%);width:15px;height:15px}@media (max-width: 700px){.filter-container[_ngcontent-%COMP%]{padding-top:5px;flex-direction:column;gap:5px;height:140px}}"]}),i})();var b=o(8239);let f=(()=>{class i{transform(t,n){return t.filter(s=>-1!==s.snippet.title.toLowerCase().indexOf(n.toLowerCase()))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"filterByWord",type:i,pure:!0}),i})(),m=(()=>{class i{transform(t,n,s){return t.sort(s===l.DATE?n?(a,p)=>a.snippet.publishedAt>p.snippet.publishedAt?1:-1:(a,p)=>a.snippet.publishedAt<p.snippet.publishedAt?1:-1:n?(a,p)=>+a.statistics.viewCount<+p.statistics.viewCount?1:-1:(a,p)=>+a.statistics.viewCount>+p.statistics.viewCount?1:-1)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"sortByField",type:i,pure:!0}),i})();var F=o(8715),B=o(4699),x=o(3674),Z=o(86);const O=function(i){return["/card",i]};let P=(()=>{class i{constructor(){this.item=Object.assign({})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-search-card"]],inputs:{item:"item"},decls:7,vars:7,consts:[["appColorBorder","",1,"card",3,"publishedDate"],[3,"src"],[3,"item"],["mat-raised-button","",3,"routerLink"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e._UZ(2,"app-card-statistic",2),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"More..."),e.qZA(),e.qZA()),2&t&&(e.s9C("publishedDate",n.item.snippet.publishedAt),e.xp6(1),e.s9C("src",n.item.snippet.thumbnails.medium.url,e.LSH),e.xp6(1),e.Q6J("item",n.item),e.xp6(2),e.Oqu(n.item.snippet.title),e.xp6(1),e.Q6J("routerLink",e.VKq(5,O,n.item.id)))},directives:[B.Y,x.x,Z.zs,d.yS],styles:[".card[_ngcontent-%COMP%]{display:grid;align-items:center;justify-content:center;height:327px;width:100%;background:#e5e5e5;border-radius:5px;border-bottom:5px solid #2f80ed}img[_ngcontent-%COMP%]{display:block;width:80%;margin:20px auto}p[_ngcontent-%COMP%]{font-weight:bold;font-size:20px;line-height:23px;text-align:center;margin:22px;overflow:hidden;color:#4f4f4f}a[_ngcontent-%COMP%]{margin:10px auto;width:120px;height:32px;background-color:#2f80ed;color:#fff}@media (max-width: 800px){p[_ngcontent-%COMP%]{font-size:16px;line-height:18px;margin:10px}a[_ngcontent-%COMP%]{width:100px;height:30px}}"]}),i})();function T(i,r){1&i&&e._UZ(0,"app-search-card",5),2&i&&e.Q6J("item",r.$implicit)}function M(i,r){1&i&&(e.TgZ(0,"div",6),e._uU(1,"Nothing Found :("),e.qZA())}let g=(()=>{class i{constructor(t,n,s){this.sortByFieldPipe=t,this.filterByWordPipe=n,this.youtubeService=s,this.searchResults=Object.assign({}),this.filteredResponse=Object.assign({}),this.nothingFound=!1}setOriginalResponse(){this.filteredResponse=Object.assign({},this.searchResults)}ngOnInit(){var t=this;return(0,b.Z)(function*(){yield t.youtubeService.getResponse(),t.searchResults=t.youtubeService.response,t.setOriginalResponse()})()}filterByField(t,n){this.sortByFieldPipe.transform(this.filteredResponse.items,t,n)}filterByWord(t){this.setOriginalResponse(),this.filteredResponse.items=this.filterByWordPipe.transform(this.filteredResponse.items,t),this.nothingFound=0===this.filteredResponse.items.length}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m),e.Y36(f),e.Y36(F.A))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-search"]],features:[e._Bn([m,f])],decls:5,vars:2,consts:[[1,"search"],[1,"container","search-container","show"],[3,"item",4,"ngFor","ngForOf"],[1,"container"],["class","empty-results",4,"ngIf"],[3,"item"],[1,"empty-results"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0),e.TgZ(1,"div",1),e.YNc(2,T,1,1,"app-search-card",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,M,2,0,"div",4),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngForOf",n.filteredResponse.items),e.xp6(2),e.Q6J("ngIf",n.nothingFound))},directives:[c.sg,c.O5,P],styles:[".search-container[_ngcontent-%COMP%]{display:none;padding:30px 0}.show[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(263px,1fr));grid-gap:30px}.empty-results[_ngcontent-%COMP%]{text-align:center;font-size:1.4em}@media (max-width: 800px){.show[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(190px,1fr))}}"]}),i})();const A=[{path:"",component:(()=>{class i{constructor(){this.viewSearch=Object.assign({}),this.viewFilterh=Object.assign({})}filterByField(t){this.viewSearch.filterByField(t.direction,t.field)}filterByWord(t){this.viewSearch.filterByWord(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-search-page"]],viewQuery:function(t,n){if(1&t&&(e.Gf(g,5),e.Gf(h,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.viewSearch=s.first),e.iGM(s=e.CRH())&&(n.viewFilterh=s.first)}},decls:2,vars:0,consts:[[3,"filterByField","filterByWord"]],template:function(t,n){1&t&&(e.TgZ(0,"app-filter",0),e.NdJ("filterByField",function(a){return n.filterByField(a)})("filterByWord",function(a){return n.filterByWord(a)}),e.qZA(),e._UZ(1,"app-search"))},directives:[h,g],styles:[""]}),i})()}];let _=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[d.Bz.forChild(A)],d.Bz]}),i})(),W=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[c.ez,y.m,_]]}),i})()}}]);